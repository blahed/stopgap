#!/usr/bin/env ruby

require 'irb'
require 'bundler/setup'
require 'stopgap'

# You can add fixtures and/or initialization code here to make experimenting
# with your gem easier. You can also use a different console, if you like.

# (If you use this, don't forget to add pry to your Gemfile!)
# require "pry"
# Pry.start

def sql(statement)
  ActiveRecord::Base.connection.execute(statement).values
end

Stopgap.schema(:playdabase) do

  table :users, populate: 25 do |t|
    t.string "name", value: -> { Faker::Name.name }
    t.integer "age", value: 1..25
    t.string "sex", value: ['male', 'female']
    t.integer "company_id", value: 1..5
  end

  table :companies, populate: 5 do |t|
    t.string "name", value: -> { Faker::Company.name }
    t.string "ein", value: -> { Faker::Company.ein }
  end
end

IRB.start(__FILE__)
